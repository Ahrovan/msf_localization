<msf_localization>


  <!-- Global parameters -->
  <global_parameters>
    <name>world</name>

    <gravity>
      <enabled description="enable state estimation">0</enabled> <!-- TODO -->
      <init_estimation>0.0 0.0 -9.81</init_estimation>
      <init_var>0.01 0.01 0.01</init_var>
    </gravity>

  </global_parameters>



  <!-- ROBOT -->
  <robot>
    <name>robot</name>
    <position description="position of the robot wrt world (3D vector in m)">
      <init_estimation>0 0 0</init_estimation>
      <init_var>0.01 0.01 0.01</init_var>
    </position>

    <lin_speed>
      <init_estimation>0 0 0</init_estimation>
      <init_var>0.011 0.011 0.011</init_var>
    </lin_speed>

    <lin_accel>
      <init_estimation>0.01 0.02 0</init_estimation>
      <init_var>0.012 0.012 0.012</init_var>
      <noise>0.005 0.005 0.005</noise>
    </lin_accel>


    <attitude description="attitude of the robot wrt world (quaternion vector)">
      <init_estimation>1 0 0 0</init_estimation>
      <init_var>0.02 0.02 0.02</init_var>
    </attitude>

    <ang_velocity>
      <init_estimation>0 0 0.0</init_estimation>
      <init_var>0.021 0.021 0.021</init_var>
    </ang_velocity>

    <ang_accel>
      <init_estimation>0 0 0.002</init_estimation>
      <init_var>0.022 0.022 0.022</init_var>
      <noise>0.005 0.005 0.005</noise>
    </ang_accel>

  </robot>


  <!-- LIST OF SENSORS -->
  <sensor>
    <type>imu</type>
    <ros_topic>phidgets_imu_1042/imu/data_raw</ros_topic>
    <name>phidgets_imu_1042</name>

    <pose_in_robot description="initial estimate of the pose of the sensor wrt robot">
      <position description="position of the sensor wrt robot (3D vector in m)">
        <enabled description="enable state estimation">1</enabled>
        <init_estimation>0 0 0</init_estimation>
        <init_var>0.03 0.03 0.03</init_var>
      </position>
      <attitude description="attitude of the sensor wrt robot (quaternion vector)">
        <enabled description="enable state estimation">1</enabled>
        <init_estimation>0 1 0 0</init_estimation>
        <init_var>0.031 0.031 0.031</init_var>
      </attitude>
    </pose_in_robot>


    <measurements description="info about the measurements given by this sensor">

      <orientation description="TODO">
        <enabled>0</enabled> <!-- TODO -->
        <use_subscribed_cov>0</use_subscribed_cov> <!-- TODO -->
        <covar></covar> <!-- TODO -->
      </orientation>
     
      <linear_acceleration>
        <enabled>1</enabled>
        <use_subscribed_cov>0</use_subscribed_cov> <!-- TODO -->
        <covar>0.15 0.15 0.15</covar>       
      </linear_acceleration> 

      <angular_velocity>
        <enabled>1</enabled>
        <use_subscribed_cov>0</use_subscribed_cov> <!-- TODO -->
        <covar>0.1 0.1 0.1</covar>
      </angular_velocity>

    </measurements>

    <parameters description="info about the calibration parameters given by this sensor">

      <linear_acceleration description="parameters relative to the accelerometers">
        <biases>
          <enabled description="enable state estimation">1</enabled>
          <init_estimation>0 0 0</init_estimation>
          <init_var>0.04 0.04 0.04</init_var>
          <noise>0.005 0.005 0.005</noise>
        </biases>
        <scale>
          <enabled description="enable state estimation">0</enabled> <!-- TODO -->
          <init_estimation>0 0 0</init_estimation>
          <init_var>0.041 0.041 0.041</init_var>
        </scale>
      </linear_acceleration>

      <angular_velocity description="parameters relative to the gyroscopes">
        <biases>
          <enabled description="enable state estimation">1</enabled>
          <init_estimation>0 0 0</init_estimation>
          <init_var>0.041 0.041 0.041</init_var>
          <noise>0.005 0.005 0.005</noise>
        </biases>
        <scale>
          <enabled description="enable state estimation">0</enabled> <!-- TODO -->
          <init_estimation>0 0 0</init_estimation>
          <init_var>0.041 0.041 0.041</init_var>
        </scale>
      </angular_velocity>

    </parameters>

  </sensor>


  <sensor>
    <type>magnetometer</type>
    <ros_topic>phidgets_imu_1044/mag/data_raw</ros_topic>


  </sensor>




  <!-- MAP -->
  <!-- TODO -->



</msf_localization>
